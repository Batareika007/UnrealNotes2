<div class="warning-green">
сложная но готовая схема
</div>
<h1>Добавить анимации к персонажу</h1>

<p>
    Это базовый процесс подключения анимаций к персонажу в Unreal Engine 5. 
    Здесь создаётся Animation Blueprint, Blend Space, State Machine и логика переходов между анимациями.
</p>

<h2>Шаги:</h2>

<ol>

  <li>
    Создаём <span class="ui-btn">Blueprint Character</span>.
  </li>
  <div class="image-block">
    <img src="Animation/images/createBPcharacter.png" alt="">
  </div>

  <li>
    Создаём <span class="ui-btn">Animation Blueprint</span> и выбираем нужный скелет.
  </li>
  <img src="Animation/images/animBP.png" alt="">
  <img src="Animation/images/choseSkeleton.png" alt="">

  <li>
    Создаём <span class="ui-btn">Blend Space 1D</span> — для примера используем скорость (Speed).
  </li>
  <img src="Animation/images/CreateBlendSpace.png" alt="">
  <img src="Animation/images/BlendspaceInside.png" alt="">

  <li>
    Открываем <span class="ui-btn">Animation Blueprint</span> → AnimGraph.  
    Добавляем созданный Blend Space и создаём переменную <span class="node">Ground Speed</span>.
  </li>
  <img src="Animation/images/animGraph.png" alt="">

  <li>
    В Event Graph получаем скорость персонажа и передаём её в переменную Ground Speed.  
    В компоненте Mesh персонажа задаём максимальную скорость.
  </li>
  <img src="Animation/images/animGraph2.png" alt="">

  <li>
    Для более сложной логики создаём <span class="ui-btn">State Machine</span>.
  </li>
  <img src="Animation/images/animGraph3.png" alt="">
  <p>Подключаем её в AnimGraph:</p>
  <img src="Animation/images/animGraph4.png" alt="">

  <li>
    Внутри State Machine создаём стейт <b>Idle</b> и добавляем в него анимацию стояния.
  </li>
  <img src="Animation/images/animGraph5.png" alt="">
  <img src="Animation/images/animGraph6.png" alt="">

  <p>Добавляем остальные стейты (Walk, Run и т.д.) и создаём переходы между ними.</p>
  <img src="Animation/images/animGraph7.png" alt="">

  <p>Пример перехода Idle → Walk: если скорость > 0.</p>
  <img src="Animation/images/animGraph8.png" alt="">

  <p>Переход Walk → Idle: если скорость = 0.</p>
  <img src="Animation/images/animGraph9.png" alt="">

  <li>
    Создаём вторую State Machine для прыжка.  
    Первую сохраняем в Cache Pose, чтобы использовать её в воздухе.
  </li>
  <img src="Animation/images/animGraph10.png" alt="">
  <img src="Animation/images/animGraph11.png" alt="">

  <p>Создаём стейт «В воздухе».</p>
  <img src="Animation/images/animGraph12.png" alt="">

  <li>
    В стейте «В воздухе» используем сохранённый Cache Pose, чтобы анимации бега продолжали работать.
  </li>
  <img src="Animation/images/animGraph13.png" alt="">
  <img src="Animation/images/animGraph14.png" alt="">

  <li>
    Создаём стейты прыжка: Jump Start, Falling, Land.
  </li>
  <img src="Animation/images/animGraph15.png" alt="">

  <p>
    Для перехода с земли на прыжок создаём переменную <b>IsInAir?</b>.  
    Если она истинна — персонаж в воздухе.
  </p>
  <img src="Animation/images/animGraph16.png" alt="">
  <img src="Animation/images/animGraph17.png" alt="">

  <li>
    Переход Jump → Falling можно сделать автоматическим.
  </li>
  <img src="Animation/images/animGraph18.png" alt="">

  <li>
    Переход Falling → Land: если IsInAir? = false (через NOT).
  </li>
  <img src="Animation/images/animGraph19.png" alt="">

  <p>Переход Land → Idle также можно сделать автоматическим.</p>

  <p>
    В Event Graph используем ноду <b>Is Falling</b>, чтобы обновлять переменную IsInAir?.
  </p>
  <img src="Animation/images/animGraph20.png" alt="">

  <li>
    Улучшаем прыжок: создаём новый Blend Space 1D для прыжка в движении.  
    На низкой скорости — прыжок на месте, на высокой — прыжок в беге.
  </li>
  <img src="Animation/images/animGraph21.png" alt="">

  <p>Заменяем старую анимацию прыжка на новый Blend Space.</p>
  <img src="Animation/images/animGraph22.png" alt="">

  <p>Обновляем логику в Air Locomotion.</p>
  <img src="Animation/images/animGraph23.png" alt="">

  <p>В каждом стейте добавляем нужные анимации. В Land ставим галочку «Can Transition».</p>

  <li>Переход Falling → Land.</li>
  <img src="Animation/images/animGraph24.png" alt="">

  <li>
    Переход Land → LandRun: создаём переменную <b>MovementInput?</b>.
  </li>
  <img src="Animation/images/animGraph25.png" alt="">

  <li>
    Переход Land → LandIdle: если MovementInput? = false.
  </li>
  <img src="Animation/images/animGraph26.png" alt="">

</ol>




