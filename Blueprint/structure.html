<div class="warning-green">
готово
</div>

<h1>Structures</h1>

<p>
    Structure (Структура) — это контейнер, который объединяет несколько переменных 
    разных типов в одну группу. Это удобно, когда нужно хранить связанные данные: 
    например, параметры персонажа — имя, уровень, здоровье, мана и т.д.
</p>

<img src="Blueprint/images/structure1.png" alt="">

<hr>

<h2>Создание структуры</h2>

<p>
    В Content Browser создаём <b>Blueprint Structure</b> и добавляем в неё нужные переменные.
</p>

<img src="Blueprint/images/structure2.png" alt="">

<p>
    Для каждой переменной можно задать значение по умолчанию.
</p>

<img src="Blueprint/images/structure3.png" alt="">

<hr>

<h2>Использование структуры в Blueprint</h2>

<p>
    Чтобы работать со структурой, добавляем её как переменную в Blueprint.
</p>

<h3>Получение данных — Break Struct</h3>

<p>
    В Event Graph ставим переменную в режим <b>Get</b> → ПКМ → <b>Break Struct</b>.  
    Это позволяет получить доступ ко всем полям структуры.
</p>

<img src="Blueprint/images/structure4.png" alt="">

<hr>

<h3>Изменение данных — Make Struct или Split</h3>

<p>
    Чтобы изменить структуру целиком, ставим переменную в режим <b>Set</b> 
    и используем <b>Make Struct</b>.
</p>

<img src="Blueprint/images/structure5.png" alt="">

<p>
    Также можно раскрыть входы через <b>Split Struct Pin</b>, чтобы видеть все поля отдельно.
</p>

<hr>

<h2>Изменение отдельных полей — Set Members in Struct</h2>

<p>
    Если нужно изменить только одно или несколько свойств, а не всю структуру, 
    используем ноду <b>Set Members in Struct</b>.
</p>

<img src="Blueprint/images/structure6.png" alt="">

<p>
    В этой ноде можно включить галочками только те поля, которые нужно изменить.
</p>

<img src="Blueprint/images/structure7.png" alt="">

<hr>

<h2 class="warning-red">Важно: структуры не являются общими между акторами</h2>

<p>
    Структура — это только <b>тип данных</b>. Когда вы добавляете структуру как переменную 
    в Blueprint, каждый актор получает <b>свою собственную копию</b> этих данных.
</p>

<p>
    Если два разных актора используют одну и ту же структуру как переменную, 
    изменения в одном акторе <b>не повлияют</b> на данные в другом. 
    Каждый хранит свои значения независимо.
</p>

<h3>Как сделать структуру общей</h3>

<p>
    Если нужно, чтобы структура была общей для всех акторов (например, общие настройки, 
    прогресс игрока, глобальные параметры), её нужно хранить в одном месте, 
    которое доступно всем Blueprint:
</p>

<ul>
    <li><b>GameInstance</b> — глобальные данные на всю игру;</li>
    <li><b>PlayerState</b> — данные игрока, сохраняющиеся между уровнями;</li>
    <li><b>GameMode</b> — логика и правила уровня;</li>
    <li><b>SaveGame</b> — сохранённые данные;</li>
    <li><b>DataAsset</b> — статические данные, которые не меняются.</li>
</ul>

<p>
    В этом случае все акторы будут обращаться к <b>одной и той же переменной</b>, 
    которая содержит структуру, и изменения станут общими.
</p>
