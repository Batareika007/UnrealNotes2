<div class="warning-green">
    базовые настройки
</div>

<h1>Basic Movement — базовое управление персонажем</h1>

<p>
    В Unreal Engine 5 используется система <b>Enhanced Input</b>.  
    Она заменяет старые Action/Axis Mapping и позволяет гибко настраивать управление.
</p>
<p>что управлять персонажем мы управляем контроллером, для этого у нас еть ноды, такие как: </p>
<ul>
    <li><span class="node">Add controller Pitch Input</span> - по оси Y (при управлению мышью смотреть вверх вниз)</li>
    <li><span class="node">Add controller Yaw Input</span> - по оси Z (при управлению мышью смотреть встороны, права лево) </li>
    <li><span class="node">Add controller Roll Input</span> - по оси X </li>
</ul>



<h2>Action Mapping и Axis Mapping</h2>

<p>
    <span class="ui-btn">Action Mapping</span> — срабатывает один раз при нажатии кнопки (Jump, Interact).<br>
    <span class="ui-btn">Axis Mapping</span> — непрерывный ввод (движение мыши, движение персонажа).
</p>

<p>
    Для начала создаём Input Actions для основных действий: движение, прыжок, поворот камеры.
</p>

<img src="Input/images/image1.png" alt="">

<p>Названия должны отражать назначение:</p>

<img src="Input/images/image2.png" alt="">

<h2>Настройка Input Action — Jump</h2>

<p>
    Для прыжка достаточно одного триггера — <b>Triggered</b> при нажатии кнопки.
</p>

<img src="Input/images/image3.png" alt="">

<h2>Настройка Input Actions — Move и Look</h2>

<p>
    Move — это векторное действие (2D Vector),  
    Look — это поворот камеры (Mouse Delta).
</p>

<img src="Input/images/image4.png" alt="">

<h2>Создание Input Mapping Context (IMC)</h2>

<p>
    Создаём новый <b>Input Mapping Context</b> — это набор всех действий управления.
</p>

<img src="Input/images/image5.png" alt="">

<p>
    Внутри IMC добавляем созданные Input Actions и назначаем клавиши.
</p>

<h2>Настройка движения (Move)</h2>

<p>
    Движение — самое сложное, потому что нужно правильно преобразовать оси.
</p>

<img src="Input/images/image6.png" alt="">

<div>
    <p><b>Вперёд (W):</b> используем <b>Swizzle Input Axis Values</b>, порядок <b>YXZ</b>.</p>
    <p><b>Влево (A):</b> включаем <b>Negate</b> — инвертирует направление.</p>
    <p><b>Назад (S):</b> включаем <b>Swizzle + Negate</b>.</p>
    <p><b>Вправо (D):</b> можно оставить без изменений — UE сам корректно обработает ось.</p>
</div>

<img src="Input/images/image7.png" alt="">

<h2>Создание персонажа</h2>

<p>
    Если персонажа ещё нет — создаём Blueprint Class → <b>Character</b>.
</p>

<p>
    Mesh может быть любым.  
    Добавляем <b>SpringArm</b> (селфи‑палка), затем добавляем <b>Camera</b> — она автоматически прикрепится.
</p>

<img src="Input/images/image8.png" alt="">

<h2>Настройка камеры</h2>

<p><b>В Character (BP):</b></p>
<p>Отключаем <b>Use Controller Rotation Yaw</b> — чтобы камера не вращала персонажа напрямую.</p>

<img src="Input/images/image9.png" alt="">

<p><b>SpringArm:</b> включаем <b>Use Pawn Control Rotation</b>.</p>

<img src="Input/images/image10.png" alt="">

<p><b>Camera:</b> отключаем <b>Use Pawn Control Rotation</b>.</p>

<img src="Input/images/image11.png" alt="">

<h2>Настройка движения персонажа</h2>

<p>
    В компоненте <b>Character Movement</b> включаем <b>Orient Rotation to Movement</b>.  
    Теперь персонаж всегда поворачивается в сторону движения, независимо от камеры.
</p>

<img src="Input/images/image12.png" alt="">

<h2>Подключение управления в Blueprint</h2>

<p>
    В Event Graph захватываем управление и активируем Input Mapping Context.
</p>

<img src="Input/images/image13.png" alt="">

<h2>Прыжок</h2>

<p>
    Выбираем созданный Input Action Jump и вызываем функцию <b>Jump</b>.
</p>

<img src="Input/images/image14.png" alt="">
<img src="Input/images/image15.png" alt="">
<img src="Input/images/image16.png" alt="">

<h2>Движение</h2>

<p>
    Движение создаётся через <b>Add Movement Input</b> с использованием направления камеры.
</p>
